<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishop October 2025 - Interactive Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #2E86AB 0%, #1a4d6d 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .chart-section {
            margin-bottom: 50px;
        }
        
        .chart-header {
            color: #2E86AB;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2E86AB;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chart-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            min-height: 400px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 8px;
        }
        
        .stat-value {
            color: #2E86AB;
            font-size: 2em;
            font-weight: 700;
        }
        
        .stat-sublabel {
            color: #999;
            font-size: 0.8em;
            margin-top: 5px;
        }
        
        .legend-custom {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        footer {
            background: #2E86AB;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        .info-box {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
            font-size: 0.95em;
        }
        
        .table-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            overflow-x: auto;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        
        .data-table thead {
            background: #2E86AB;
            color: white;
        }
        
        .data-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            background: #2E86AB;
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .data-table tbody tr:hover {
            background: #f5f5f5;
        }
        
        .data-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .download-btn {
            background: #2E86AB;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .download-btn:hover {
            background: #1a4d6d;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .download-btn:active {
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .chart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .download-btn {
                font-size: 0.85em;
                padding: 8px 15px;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .chart-container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Krishop October 2025</h1>
            <p>Interactive Analytics Dashboard - Hover over charts for details</p>
        </header>
        
        <div class="content">
            <!-- Stats Summary -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">App Session</div>
                    <div class="stat-value">134.9</div>
                    <div class="stat-sublabel">avg daily users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Community Home</div>
                    <div class="stat-value">83.2</div>
                    <div class="stat-sublabel">avg daily users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Guest User</div>
                    <div class="stat-value">24.4</div>
                    <div class="stat-sublabel">avg daily users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Total Days</div>
                    <div class="stat-value">31</div>
                    <div class="stat-sublabel">October 2025</div>
                </div>
            </div>
            
            <!-- Combined Line Chart -->
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>Daily Active Users - All Metrics</span>
                </h2>
                <div class="chart-container">
                    <canvas id="combinedChart"></canvas>
                </div>
            </div>
            
            <!-- Individual Charts -->
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>App Session Users</span>
                </h2>
                <div class="chart-container">
                    <canvas id="appSessionChart"></canvas>
                </div>
            </div>
            
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>Community Home Users</span>
                </h2>
                <div class="chart-container">
                    <canvas id="communityChart"></canvas>
                </div>
            </div>
            
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>Guest Users</span>
                </h2>
                <div class="chart-container">
                    <canvas id="guestChart"></canvas>
                </div>
            </div>
            
            <!-- Stacked Area Chart -->
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>Cumulative User Distribution</span>
                </h2>
                <div class="chart-container">
                    <canvas id="stackedChart"></canvas>
                </div>
            </div>
            
            <!-- Data Table -->
            <div class="chart-section">
                <h2 class="chart-header">
                    <span>October 2025 - Complete Data Table</span>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="downloadCSV()" class="download-btn">Download CSV</button>
                        <button onclick="downloadExcel()" class="download-btn">Download Excel</button>
                    </div>
                </h2>
                <div class="table-container">
                    <table id="dataTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>App Session</th>
                                <th>Community Home</th>
                                <th>Guest User</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Generated on November 2, 2025 | Interactive Dashboard</p>
        </footer>
    </div>

    <script>
        // Data for October 2025
        const dates = [
            'Oct 1', 'Oct 2', 'Oct 3', 'Oct 4', 'Oct 5', 'Oct 6', 'Oct 7',
            'Oct 8', 'Oct 9', 'Oct 10', 'Oct 11', 'Oct 12', 'Oct 13', 'Oct 14',
            'Oct 15', 'Oct 16', 'Oct 17', 'Oct 18', 'Oct 19', 'Oct 20', 'Oct 21',
            'Oct 22', 'Oct 23', 'Oct 24', 'Oct 25', 'Oct 26', 'Oct 27', 'Oct 28',
            'Oct 29', 'Oct 30', 'Oct 31'
        ];

        const appSession = [118, 82, 86, 126, 111, 120, 132, 140, 126, 91, 126, 136, 172, 171, 159, 129, 96, 126, 133, 158, 141, 140, 163, 107, 145, 189, 161, 123, 164, 178, 134];
        const communityHome = [69, 54, 46, 81, 78, 84, 84, 91, 76, 50, 81, 80, 89, 95, 95, 72, 62, 72, 84, 95, 86, 95, 94, 71, 89, 121, 101, 71, 78, 140, 96];
        const guestUser = [26, 8, 6, 27, 26, 24, 28, 28, 29, 3, 28, 32, 32, 33, 38, 32, 6, 26, 35, 37, 29, 29, 34, 5, 30, 33, 29, 9, 14, 27, 13];

        // Chart configuration
        const chartConfig = {
            responsive: true,
            maintainAspectRatio: true,
            aspectRatio: 2.5,
            interaction: {
                mode: 'index',
                intersect: false,
            },
            plugins: {
                legend: {
                    display: true,
                    position: 'top',
                    labels: {
                        padding: 20,
                        font: {
                            size: 13,
                            weight: '600'
                        }
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    padding: 12,
                    titleFont: {
                        size: 14,
                        weight: 'bold'
                    },
                    bodyFont: {
                        size: 13
                    },
                    callbacks: {
                        label: function(context) {
                            return context.dataset.label + ': ' + context.parsed.y + ' users';
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.05)'
                    },
                    ticks: {
                        font: {
                            size: 12
                        }
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        font: {
                            size: 11
                        },
                        maxRotation: 45,
                        minRotation: 45
                    }
                }
            }
        };

        // Combined Chart
        const combinedCtx = document.getElementById('combinedChart').getContext('2d');
        new Chart(combinedCtx, {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'App Session',
                        data: appSession,
                        borderColor: '#2E86AB',
                        backgroundColor: 'rgba(46, 134, 171, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        fill: false
                    },
                    {
                        label: 'Community Home',
                        data: communityHome,
                        borderColor: '#A23B72',
                        backgroundColor: 'rgba(162, 59, 114, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        fill: false
                    },
                    {
                        label: 'Guest User',
                        data: guestUser,
                        borderColor: '#F18F01',
                        backgroundColor: 'rgba(241, 143, 1, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        fill: false
                    }
                ]
            },
            options: chartConfig
        });

        // App Session Chart
        const appCtx = document.getElementById('appSessionChart').getContext('2d');
        new Chart(appCtx, {
            type: 'line',
            data: {
                labels: dates,
                datasets: [{
                    label: 'App Session Users',
                    data: appSession,
                    borderColor: '#2E86AB',
                    backgroundColor: 'rgba(46, 134, 171, 0.2)',
                    borderWidth: 3,
                    tension: 0.4,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    fill: true
                }]
            },
            options: chartConfig
        });

        // Community Home Chart
        const communityCtx = document.getElementById('communityChart').getContext('2d');
        new Chart(communityCtx, {
            type: 'line',
            data: {
                labels: dates,
                datasets: [{
                    label: 'Community Home Users',
                    data: communityHome,
                    borderColor: '#A23B72',
                    backgroundColor: 'rgba(162, 59, 114, 0.2)',
                    borderWidth: 3,
                    tension: 0.4,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    fill: true
                }]
            },
            options: chartConfig
        });

        // Guest User Chart
        const guestCtx = document.getElementById('guestChart').getContext('2d');
        new Chart(guestCtx, {
            type: 'line',
            data: {
                labels: dates,
                datasets: [{
                    label: 'Guest Users',
                    data: guestUser,
                    borderColor: '#F18F01',
                    backgroundColor: 'rgba(241, 143, 1, 0.2)',
                    borderWidth: 3,
                    tension: 0.4,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    fill: true
                }]
            },
            options: chartConfig
        });

        // Stacked Area Chart
        const stackedCtx = document.getElementById('stackedChart').getContext('2d');
        new Chart(stackedCtx, {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Guest User',
                        data: guestUser,
                        borderColor: '#F18F01',
                        backgroundColor: 'rgba(241, 143, 1, 0.7)',
                        borderWidth: 2,
                        fill: true
                    },
                    {
                        label: 'Community Home',
                        data: communityHome,
                        borderColor: '#A23B72',
                        backgroundColor: 'rgba(162, 59, 114, 0.7)',
                        borderWidth: 2,
                        fill: true
                    },
                    {
                        label: 'App Session',
                        data: appSession,
                        borderColor: '#2E86AB',
                        backgroundColor: 'rgba(46, 134, 171, 0.7)',
                        borderWidth: 2,
                        fill: true
                    }
                ]
            },
            options: {
                ...chartConfig,
                scales: {
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            font: {
                                size: 12
                            }
                        }
                    },
                    x: {
                        stacked: true,
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 11
                            },
                            maxRotation: 45,
                            minRotation: 45
                        }
                    }
                }
            }
        });
        
        // Populate data table
        const tableBody = document.querySelector('#dataTable tbody');
        const fullDates = [
            '2025-10-01', '2025-10-02', '2025-10-03', '2025-10-04', '2025-10-05', '2025-10-06', '2025-10-07',
            '2025-10-08', '2025-10-09', '2025-10-10', '2025-10-11', '2025-10-12', '2025-10-13', '2025-10-14',
            '2025-10-15', '2025-10-16', '2025-10-17', '2025-10-18', '2025-10-19', '2025-10-20', '2025-10-21',
            '2025-10-22', '2025-10-23', '2025-10-24', '2025-10-25', '2025-10-26', '2025-10-27', '2025-10-28',
            '2025-10-29', '2025-10-30', '2025-10-31'
        ];
        
        fullDates.forEach((date, index) => {
            const row = tableBody.insertRow();
            row.insertCell(0).textContent = date;
            row.insertCell(1).textContent = appSession[index];
            row.insertCell(2).textContent = communityHome[index];
            row.insertCell(3).textContent = guestUser[index];
        });
        
        // Download CSV function
        function downloadCSV() {
            let csv = 'Date,App Session,Community Home,Guest User\n';
            fullDates.forEach((date, index) => {
                csv += `${date},${appSession[index]},${communityHome[index]},${guestUser[index]}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'krishop_october_2025_data.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        // Download Excel function (using HTML table format that Excel can read)
        function downloadExcel() {
            let html = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">';
            html += '<head><meta charset="utf-8"><title>Krishop October 2025</title>';
            html += '<xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>October 2025</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml></head>';
            html += '<body>';
            html += '<table border="1">';
            html += '<thead><tr><th>Date</th><th>App Session</th><th>Community Home</th><th>Guest User</th></tr></thead>';
            html += '<tbody>';
            
            fullDates.forEach((date, index) => {
                html += `<tr><td>${date}</td><td>${appSession[index]}</td><td>${communityHome[index]}</td><td>${guestUser[index]}</td></tr>`;
            });
            
            html += '</tbody></table></body></html>';
            
            const blob = new Blob([html], { type: 'application/vnd.ms-excel' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'krishop_october_2025_data.xls';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
